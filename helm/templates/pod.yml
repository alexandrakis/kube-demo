kind: Pod
apiVersion: v1
metadata:
  name: kube-demo
  namespace: default
  labels:
    app: kube-demo
spec:
  containers:
  - name: {{ .Chart.Name }}
    image: "{{ .Values.image.repository }}:{{ .Values.image.tag }}"
    imagePullPolicy: {{ .Values.image.pullPolicy }}
    ports:
    - containerPort: {{ .Values.service.internalPort }}
    livenessProbe:
      exec:
#        command:
#        - cat
#        - /tmp/healthy
      httpGet:
        path: /
        port: {{ .Values.service.internalPort }}
    readinessProbe:
      exec:
#        command:
#        - cat
#        - /tmp/healthy
      httpGet:
        path: /
        port: {{ .Values.service.internalPort }}
    resources:
{{ toYaml .Values.resources | indent 10 }}
  imagePullSecrets:
  - name: {{ .Values.imageSecretName }}
